(function(E){typeof define=="function"&&define.amd?define(E):E()})(function(){var L,U;"use strict";function E(o,e){const n=document.createElement(o);return Object.entries(e!=null?e:{}).forEach(([t,s])=>{n[t]=s}),n}class T{static is(){return!!(window!=null&&window.requirejs)}static appendScript(e,n,t){window.requirejs.config({paths:{[n]:e}}),window.requirejs(["jquery",n],function(s,i){i?(window[n]=i,t==null||t()):function(u,f){return f=s.extend(f||{},{dataType:"script",cache:!0,url:u}),s.ajax(f)}(e).done(()=>{t==null||t()})})}}function C({src:o,onLoad:e,type:n="async",id:t,attributes:s={},moduleName:i}){var f;if(document.getElementById(t))return;const r=E("script",{id:t,src:o,type:"text/javascript",onload:e});n==="async"?r.async=!0:n==="defer"&&(r.defer=!0),Object.entries(s).forEach(([S,p])=>r.setAttribute(S,p));const u=typeof(window==null?void 0:window.requirejs)=="function"&&typeof(window==null?void 0:window.define)=="function"&&((window==null?void 0:window.define.amd)===!0||((f=window==null?void 0:window.define.amd)==null?void 0:f.jQuery)===!0);T.is()&&i||u&&i?(console.log(`requirejs found for module: ${i}`),T.appendScript(r.src,i,e)):document.head.appendChild(r)}function q(o,e=document){let n=e.querySelectorAll(`script[src*="${o}"]`);if((n==null?void 0:n.length)===0)return null;for(const t in n){const s=n[t].src.split("?"),i=s&&s.length>1?s[1]:null;if(i)return JSON.parse('{"'+i.replace(/&/g,'","').replace(/=/g,'":"')+'"}',function(r,u){return r===""?u:decodeURIComponent(u)})}return null}function v({src:o,id:e,target:n}){if(document.getElementById(e))return;const t=document.createElement("link");t.id=e,t.href=o,t.rel="stylesheet",n instanceof ShadowRoot?n.appendChild(t):document.head.appendChild(t)}function N({target:o}){let e=document.getElementById("fast-simon-autocomplete-css");if(e&&e.tagName==="STYLE"){const n=e.cloneNode(!0);n.innerHTML=e.innerHTML,o instanceof ShadowRoot?o.appendChild(n):document.head.appendChild(n)}}function M({autocompleteSrc:o}){var s,i;const e=document.createElement("div");e.className="mobile-fast-ac-container",e.style.display="block";const t=((s=window.__fast_options)==null?void 0:s.disable_ac_shadow_root)?e:e.attachShadow({mode:"open"});v({src:o,id:"fs-autocomplete-styles",target:t}),N({target:t}),FastAutocomplete.renderMobileOptimizedAutoComplete({target:(i=e.shadowRoot)!=null?i:e}),document.body.appendChild(e)}function O(o){try{return[...o.classList.values()]}catch(e){return console.error("strange classList.values() error",e),o.className.split(" ").filter(n=>n.trim())}}const b=new Set(["isp_ignore","aw-ln-filters-container","ssfa-search-wrap","gform_","yotpo","wp-live-chat","wp-admin-bar-shop-as-customer","aspnetForm","adminbar-search","deliveryGeoSearchField","stockist-search-field","AddToCartForm","klaviyo-form","bv_input","checkout-form","cart"]),k=["magnifying-glass.png","search","srch","keyword","find","lookup","recherch","busca","busque","suche","cerca","pesqui","\u043F\u043E\u0438\u0441\u043A","\u041D\u0430\u0439\u0442\u0438","\u0418\u0441\u043A\u0430\u0442\u044C","szukaj","zoek","s\xF8k","s\xF6k","\u0422\u044A\u0440\u0441","hleda","arama","www.google.com/custom"],x=[".aspx","cart"],P=["checkout"],G=["AddToCart"],R=(L=window==null?void 0:window.__fast_options)!=null&&L.possibleInputsLimit?(U=window==null?void 0:window.__fast_options)==null?void 0:U.possibleInputsLimit:5,z=["gsc-input","product-customizer-option","stockist-search-field"],$=["order-lookup"],H=["location"],B=["submit","number","hidden","password","email","radio","checkbox","date","file","range","tel"],V=["region","search reviews","pr-name-input","pr-location-input","pr-headline-input","recaptcha","article-search-input","wpsl-search-input","cart_notes","stamped-reviews-search-input","spof-search_box","optimizedCheckout","shogun-form","olark-","obr-input-text","obr-input-textarea","bd_yyyy","bd_mm","bd_dd","Enter a Location","comments","sv_comment_box","cart-notes","newTexto","ninja-forms","pa_categories","emotion_comment","judgeme-form","search blog","referral_name","habla_","search_press","m-slider","coupon_code","coupon","ssw-fave","focus_retriever","txtlastname","sa_comments","sa_name","sa_email","questions","gift_message","ulp-","Enter your name","lc_chat","habla_name_input","habla_pre_chat_span","habla_offline_body_input","habla_pre_chat_email_input","habla_pre_chat_phone_input","req_company","req_country","req_phone","fc_wizard","wp-link-url","first_name","req_name","amshopby","search the blog","bold_option","appointment","quantity","\u0433\u043E\u0440\u043E\u0434","wptrigger","postal","city","state","street","order_num","msrmnt","referral_field","redeem_voucher","answertext","gform_ajax","kbsearch","answerseasy","blog-search","/cart/add","personalized","packstation","firstname","first-name","last-name","share","qty","producttagname","facebook","login","register","contact","weather","upload ","subscription","domain","username","payment","password","email","time","obituar","postcode","invitebox","transaction","zip","addr","itemstatus","arrivaldate","departuredate","datepicker","checkindate","checkoutdate","startdate","enddate","price","patent","knowledgebase","review_title","AddToCartForm","cart","Enter a location","country","Country"];function J(){return[...document.querySelectorAll("input")].filter(e=>{if(e.hasAttribute("isp_ignore"))return!1;for(const t of z)if(e.className&&e.className.includes(t))return!1;for(const t of $)if(e.className&&e.className.toString().includes(t))return!1;for(const t of H)if(e.hasAttribute("title")&&e.getAttribute("title").toString().toLowerCase().includes(t))return!1;const n=e.type;if(n&&B.includes(n))return!1;for(const t of V){if(e.hasAttribute(t))return!1;if(e.className.includes(t))return!1;if(e.id.includes(t))return!1;if(e.tagName==="INPUT"&&(e.placeholder.split(" ").includes(t)||e.placeholder===t))return!1}return!0})}function K(o){return!!o.outerHTML.toLowerCase().includes("search")}function W(o){return o.getAttribute("action")||o.getAttribute("data-url")}function Y(o){if(!o)return!1;const e=W(o);if(e&&e.toLowerCase().includes("search"))return!0;const n=o.getAttribute("role");return!!(n&&n.toLowerCase().includes("search"))}function j(o){const e=[],n=[],t=[];for(const i of J())K(i)?e.push(i):n.push(i);let s;e.length>R-1?s=e:s=[...e,...n.splice(0,R-e.length)];for(const i of s){const r=Q(i);!Y(r)&&!X(i)||r&&!Z(i,r)&&(o!=null&&o.className&&i.classList.add(o==null?void 0:o.className),t.push({input:i,form:r}))}return t}const Q=o=>o.closest("form"),X=o=>{let e=!1;const n=o.parentElement.outerHTML.toLowerCase();let t="";for(let s=0;s<k.length;s++)if(t=k[s],n.includes(t)){e=!0;break}return e},Z=(o,e)=>{var n,t,s;if(b.has((n=e.id)!=null?n:"")||b.has((t=o.id)!=null?t:"")||b.has((s=o.placeholder)!=null?s:""))return!0;for(const i of O(e))if(b.has(i))return!0;for(const i of O(o))if(b.has(i))return!0;for(const i of Array.from(x))if(e.getAttribute("action")&&e.getAttribute("action").includes(i))return!0;for(const i of Array.from(P))if(e.hasAttribute("name")&&e.getAttribute("name")===i)return!0;for(const i of Array.from(G))if(e.getAttribute("id")&&e.getAttribute("id").includes(i))return!0;return o.value==="1"};function ee({autocompleteSrc:o}){var n,t,s,i,r,u,f,S;typeof((n=window.__fast_options)==null?void 0:n.preLoadDesktopCallback)=="function"&&((s=(t=window.__fast_options)==null?void 0:t.preLoadDesktopCallback)==null||s.call(t)),window.debugGetPossibleInputs=j;let e=()=>{j({className:"fast-autocomplete"}).forEach(({input:p,form:m})=>{var w,a;let c=document.getElementById("fast-ac-container");if(!c){c=document.createElement("div"),c.className="fast-ac-container",c.style.display="block",c.style.color="initial",c.style.background="initial";const h=((w=window.__fast_options)==null?void 0:w.disable_ac_shadow_root)?c:c.attachShadow({mode:"open"});v({src:o,id:"fs-autocomplete-styles",target:h}),N({target:h});let y=document.body;if((window==null?void 0:window.__fast_options)&&(window==null?void 0:window.__fast_options.load_desktop_container_selector)){let g=document.querySelector(window==null?void 0:window.__fast_options.load_desktop_container_selector);g&&(y=g)}y.appendChild(c)}FastAutocomplete.renderAutoComplete({target:(a=c.shadowRoot)!=null?a:c,input:p,form:m})})};if((i=window.__fast_options)!=null&&i.searchElementsModel){let p,m,c=(u=(r=window.__fast_options)==null?void 0:r.searchElementsModel)==null?void 0:u.searchButtonSelector,w=(S=(f=window.__fast_options)==null?void 0:f.searchElementsModel)==null?void 0:S.searchInputSelector;c&&w&&(p=[...document.querySelectorAll(c)]),p==null||p.forEach(a=>{a==null||a.addEventListener("click",()=>{setTimeout(()=>{var I;m=document.querySelector(w),(I=m==null?void 0:m.className)!=null&&I.includes("fast-autocomplete")||e()},200)})});return}e()}const te="1.2.61";typeof window.globalThis=="undefined"&&(window.globalThis=Function("return this")()),(()=>{const o="https://static-autocomplete.fastsimon.com",e="https://fastsimon.akamaized.net",n="autocomplete-custom-endpoint",t=["fast-simon-autocomplete-init.umd.js","fast-simon-autocomplete-init.iife.js","acp-magento.js","instantsearchplus.com/js/loader.js"],s=te,i=()=>localStorage.getItem(n)||o,r=()=>document.querySelector('script[src*="fast-simon-autocomplete-init.iife.js"]')?"iife":"umd";var u=i();if(u&&u!==o&&!window.FS_AC_INIT_CHANGED){const l=document.querySelector(`script[src*='${o}/fast-simon-autocomplete-init.${r()}.js']`);if(l){let d=document.createElement("script");d.async=!0,d.type="text/javascript",d.src=l.src.replace(o,u).replace(e,u),document.head.appendChild(d),window.FS_AC_INIT_CHANGED=!0;return}}if(localStorage.getItem(n)&&!document.querySelector(`script[src*='${i()}/fast-simon-autocomplete-init.${r()}.js']`)){C({src:`${i()}/fast-simon-autocomplete-init.${r()}.js`,id:"development-autocomplete-init",type:"async"});return}if(window.initializedAutocomplete)return;window._debugAutocompleteVersion=l=>{l?localStorage.setItem(n,l):localStorage.removeItem(n)},window._isp_debug=(l,d,A)=>{l?localStorage.setItem("_isp_host_prefix",l):localStorage.removeItem("_isp_host_prefix"),d?localStorage.setItem("_isp_force_version",String(d)):localStorage.removeItem("_isp_force_version"),A?localStorage.setItem("_isp_api_prefix",A):localStorage.removeItem("_isp_api_prefix")};const f=()=>{if(window.FAST_SIMON_UUID&&window.FAST_SIMON_STORE_ID)return{UUID:window.FAST_SIMON_UUID,store:window.FAST_SIMON_STORE_ID};for(const l of t){const d=q(l);if(d)return d}return null},S=`${i()}/fast-simon-autocomplete.${r()}.js?v=${s}`,p=`${i()}/fast-simon-autocomplete.css?v=${s}`;let m="",c="",w=!1;const a=f();if(a&&"UUID"in a&&"store"in a&&a.UUID&&a.store)m=a.UUID,c=a.store,a&&"is_user_logged_in"in a&&a.is_user_logged_in&&(w=a.is_user_logged_in==="0"||!a.is_user_logged_in?!1:!!a.is_user_logged_in);else throw new Error("Could not find credential arguments, quitting...");let I=!1;function h(){I||(I=!0,FastAutocomplete.initializeAutocomplete({uuid:m,storeID:Number(c),isUserLoggedIn:w}))}let y=!1;function g(){y||(y=!0,M({autocompleteSrc:p}),ee({autocompleteSrc:p}))}function oe(){localStorage.getItem(n)&&console.log(`%cWarning: Test Autocomplete version: ${localStorage.getItem(n)}`,"font-weight: bold; color: red");function l(){"fs-autocomplete-settings-cache"in localStorage?document.readyState==="complete"?(h(),g()):(document.addEventListener("DOMContentLoaded",h),document.addEventListener("DOMContentLoaded",g),window.setTimeout(h,3333),window.setTimeout(g,3333)):(window.addEventListener("load",h),window.addEventListener("load",g),window.setTimeout(h,3333),window.setTimeout(g,3333))}function d(){C({src:S,id:"fast-simon-autocomplete",type:"defer",attributes:{"data-cfasync":"false"},onLoad:l,moduleName:"FastAutocomplete"})}function A(){function D(_){_.target.removeEventListener(_.type,D),window.FSACScriptInjected||(window.FSACScriptInjected=!0,d())}function ne(){const _=document.createElement("link");_.href=S,_.rel="preload",_.as="script",document.head.appendChild(_)}ne();const ie=["mousedown","mousemove","touchstart","keydown","scroll"];for(const _ of ie)window.addEventListener(_,D)}const F=document.getElementById("fast-simon-autocomplete");F?window.FastAutocomplete?l():F.onload=l:window.fs_avoid_inject_on_interaction||!("Shopify"in window)||localStorage.getItem("fs_avoid_inject_on_interaction")?d():(A(),localStorage.setItem("fs_avoid_inject_on_interaction","true")),window.initializedAutocomplete=!0}oe()})()});
//# sourceMappingURL=fast-simon-autocomplete-init.umd.js.map?v=1.2.61
